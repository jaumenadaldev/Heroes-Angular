import{A as ke,B as He,C as Q,D as De,E as Be,F as Ne,G as Ve,H as je,I as Ae,J as $e,a as R,b as E,c as Se,d as U,e as q,f as P,g as _e,h as Ie,i as Me,j as Ee,k as be,l as z,m as ye,n as Fe,o as L,p as G,q as T,r as J,s as we,t as K,u as O,v as Pe,w as Le,x as Te,y as Oe,z as k}from"./chunk-6BN3KKYH.js";import{a as ge,g as ve,h as Ce,i as xe,j as $,k as Z}from"./chunk-GSEWTJWE.js";import"./chunk-JGYM447R.js";import{$ as N,Ab as b,C as oe,Db as S,Dc as g,Ec as A,Fb as y,Fc as de,Hc as ue,Ic as fe,Jc as he,Ob as M,Pb as n,Qb as d,Rb as h,T as ne,Ta as j,Ub as le,Vb as Y,Wa as m,Wb as F,Xa as I,Xb as w,Yb as pe,Zb as ce,_ as ae,da as me,ia as u,ja as V,la as se,n as re,ob as f,qb as p,ra as C,sa as x,wb as r,xb as i,yb as c}from"./chunk-ERDPD323.js";var tt=()=>({width:"250px"});function it(t,e){if(t&1){let s=b();r(0,"mat-list-item",9),S("click",function(){C(s),y();let o=M(2);return x(o.toggle())}),r(1,"mat-icon",10),n(2),i(),n(3),i()}if(t&2){let s=e.$implicit;p("routerLink",s.url),m(2),d(s.icon),m(),h(" ",s.label," ")}}var qe=(()=>{let e=class e{constructor(){this.sidebarItems=[{label:"Listado",icon:"list",url:"./list"},{label:"A\xF1adir",icon:"add",url:"./new-hero"},{label:"Buscar",icon:"search",url:"./search"}]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["app-layout-page"]],decls:22,vars:3,consts:[["sidenav",""],["fullscreen",""],["mode","push",3,"ngStyle"],[1,"spacer"],["mat-icon-button","",3,"click"],[3,"routerLink","click",4,"ngFor","ngForOf"],["color","primary"],["mat-button",""],[1,"container","p-2"],[3,"click","routerLink"],["matListItemIcon",""]],template:function(o,l){if(o&1){let v=b();r(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"mat-toolbar")(4,"span"),n(5,"Men\xFA"),i(),c(6,"span",3),r(7,"button",4),S("click",function(){C(v);let D=M(2);return x(D.toggle())}),r(8,"mat-icon"),n(9,"menu"),i()()(),r(10,"mat-nav-list"),f(11,it,4,3,"mat-list-item",5),i()(),r(12,"mat-toolbar",6)(13,"button",4),S("click",function(){C(v);let D=M(2);return x(D.toggle())}),r(14,"mat-icon"),n(15,"menu"),i()(),c(16,"span",3),r(17,"button",7)(18,"mat-icon"),n(19,"exit_to_app"),i()()(),r(20,"div",8),c(21,"router-outlet"),i()()}o&2&&(m(),p("ngStyle",le(2,tt)),m(10),p("ngForOf",l.sidebarItems))},dependencies:[g,de,Ce,$,E,Se,P,De,Q,ke,Ve,je,Ae]});let t=e;return t})();function at(t,e){if(t&1&&(r(0,"mat-option",10),n(1),i()),t&2){let s=e.$implicit;p("value",s.id),m(),h(" ",s.desc," ")}}var te=(()=>{let e=class e{constructor(){this.publishers=[{id:"DC Comics",desc:"DC - Comics"},{id:"Marvel Comics",desc:"Marvel - Comics"}]}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["app-new-page"]],decls:43,vars:1,consts:[[1,"mb-2"],[1,"grid"],[1,"col-12","sm:col-6"],["matInput","","type","text","required",""],["required",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","justify-content-between"],["mat-flat-button","","color","primary"],["mat-flat-button","","color","warn"],["src","","alt","imagen del h\xE9roe","mat-card-image",""],[3,"value"]],template:function(o,l){o&1&&(r(0,"h1"),n(1," Agregar / Editar H\xE9roe "),r(2,"small"),n(3,"Superman"),i()(),c(4,"mat-divider",0),r(5,"div",1)(6,"div",2)(7,"mat-card")(8,"mat-card-content")(9,"div",1)(10,"mat-form-field",2)(11,"mat-label"),n(12,"Super h\xE9roe"),i(),c(13,"input",3),i(),r(14,"mat-form-field",2)(15,"mat-label"),n(16,"Alter ego"),i(),c(17,"input",3),i(),r(18,"mat-form-field",2)(19,"mat-label"),n(20,"Primera aparici\xF3n"),i(),c(21,"input",3),i(),r(22,"mat-form-field",2)(23,"mat-label"),n(24,"Personajes"),i(),c(25,"input",3),i(),r(26,"mat-form-field",2)(27,"mat-label"),n(28,"Creador"),i(),r(29,"mat-select",4),f(30,at,2,2,"mat-option",5),i()()(),r(31,"div",6)(32,"button",7)(33,"mat-icon"),n(34,"save"),i(),n(35," Guardar "),i(),r(36,"button",8)(37,"mat-icon"),n(38,"delete"),i(),n(39," Borrar "),i()()()()(),r(40,"div",2)(41,"mat-card"),c(42,"img",9),i()()()),o&2&&(m(30),p("ngForOf",l.publishers))},dependencies:[g,R,E,L,T,O,q,U,P,z,k,Ne]});let t=e;return t})();var Je={baseUrl:"https://jaume-nadal.com/api"};var H=(()=>{let e=class e{constructor(a){this.http=a,this.baseUrl=Je.baseUrl}getHeroes(){return this.http.get(`${this.baseUrl}/heroes`)}getHeroById(a){return this.http.get(`${this.baseUrl}/heroes/${a}`).pipe(oe(o=>re(void 0)))}getSuggestions(a){return this.http.get(`${this.baseUrl}/heroes?q=${a}&_limit=6`)}};e.\u0275fac=function(o){return new(o||e)(me(ge))},e.\u0275prov=ae({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mt(t,e){if(t&1&&(r(0,"mat-option",6),n(1),i()),t&2){let s=e.$implicit;p("value",s),m(),h(" ",s.superhero," ")}}function st(t,e){if(t&1&&(r(0,"mat-option",7),n(1),i()),t&2){let s=y();m(),h(' No se encontr\xF3 nada con el t\xE9rmino "',s.searchInput.value,'" ')}}var Ke=(()=>{let e=class e{constructor(a){this.heroesService=a,this.searchInput=new Me(""),this.heroes=[]}searchHero(){let a=this.searchInput.value||"";this.heroesService.getSuggestions(a).subscribe(o=>this.heroes=o)}onSelectedOption(a){if(!a.option.value){this.selectedHero=void 0;return}let o=a.option.value;this.searchInput.setValue(o.superhero),this.selectedHero=o}};e.\u0275fac=function(o){return new(o||e)(I(H))},e.\u0275cmp=u({type:e,selectors:[["app-search-page"]],decls:13,vars:7,consts:[["auto","matAutocomplete"],[1,"flex","flex-column","p-2"],["type","text","matInput","",3,"input","formControl","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],[3,"value",4,"ngFor","ngForOf"],["value","",4,"ngIf"],[3,"value"],["value",""]],template:function(o,l){if(o&1){let v=b();r(0,"div",1)(1,"h3"),n(2,"Buscador"),i(),r(3,"mat-form-field")(4,"mat-label"),n(5,"Buscador de h\xE9roes"),i(),r(6,"input",2),S("input",function(){return C(v),x(l.searchHero())}),i(),r(7,"mat-autocomplete",3,0),S("optionSelected",function(D){return C(v),x(l.onSelectedOption(D))}),f(9,mt,2,2,"mat-option",4)(10,st,2,1,"mat-option",5),i()(),n(11),F(12,"json"),i()}if(o&2){let v=M(8);m(6),p("formControl",l.searchInput)("matAutocomplete",v),m(3),p("ngForOf",l.heroes),m(),p("ngIf",l.heroes.length===0&&l.searchInput.value&&l.searchInput.value.length>0),m(),h(" ",w(12,5,l.selectedHero)," ")}},dependencies:[g,A,_e,Ie,Ee,ye,R,Fe,q,U,z,ue],encapsulation:2});let t=e;return t})();var W=(()=>{let e=class e{transform(a){return!a.id&&!a.alt_img?"assets/no-image.png":a.alt_img?a.alt_img:`assets/heroes/${a.id}.jpg`}};e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=se({name:"heroImage",type:e,pure:!0});let t=e;return t})();var lt=t=>["/heroes/edit",t],pt=t=>["/heroes",t];function ct(t,e){if(t&1&&(r(0,"mat-chip"),n(1),i()),t&2){let s=e.$implicit;m(),d(s)}}var We=(()=>{let e=class e{ngOnInit(){if(!this.hero)throw Error("Hero property is required")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["heroes-hero-card"]],inputs:{hero:"hero"},decls:30,vars:18,consts:[["mat-card-image","","alt","hero.superhero",3,"src"],[1,"mt-2"],[4,"ngFor","ngForOf"],["mat-button","","mat-raised","",3,"routerLink"],[1,"spacer"]],template:function(o,l){o&1&&(r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),n(3),i(),r(4,"mat-card-subtitle"),n(5),i()(),c(6,"img",0),F(7,"heroImage"),r(8,"mat-card-content",1)(9,"h4"),n(10),i(),r(11,"p")(12,"strong"),n(13,"Primera aparici\xF3n"),i(),n(14),c(15,"br"),r(16,"mat-chip-listbox"),f(17,ct,2,1,"mat-chip",2),F(18,"slice"),i()()(),c(19,"mat-divider"),r(20,"mat-card-actions")(21,"button",3)(22,"mat-icon"),n(23,"edit"),i(),n(24," Editar "),i(),c(25,"span",4),r(26,"button",3)(27,"mat-icon"),n(28,"more_horiz"),i(),n(29," M\xE1s "),i()()()),o&2&&(m(3),d(l.hero.superhero),m(2),d(l.hero.alter_ego),m(),p("src",w(7,8,l.hero),j),m(4),d(l.hero.publisher),m(4),h(" ",l.hero.first_appearance," "),m(3),p("ngForOf",pe(18,10,l.hero.characters.split(","),0,3)),m(4),p("routerLink",Y(14,lt,l.hero.id)),m(5),p("routerLink",Y(16,pt,l.hero.id)))},dependencies:[g,$,E,L,we,T,K,O,J,G,Pe,Le,P,k,fe,W],encapsulation:2});let t=e;return t})();function ut(t,e){if(t&1&&(r(0,"div",2),c(1,"heroes-hero-card",3),i()),t&2){let s=e.$implicit;m(),p("hero",s)}}var Xe=(()=>{let e=class e{constructor(a){this.heroesService=a,this.heroes=[]}ngOnInit(){this.heroesService.getHeroes().subscribe(a=>this.heroes=a)}};e.\u0275fac=function(o){return new(o||e)(I(H))},e.\u0275cmp=u({type:e,selectors:[["app-list-page"]],decls:5,vars:1,consts:[[1,"grid","bm-8","pt-2"],["class","col-12 sm:col-4 md:col-3 xl:col-2",4,"ngFor","ngForOf"],[1,"col-12","sm:col-4","md:col-3","xl:col-2"],[3,"hero"]],template:function(o,l){o&1&&(r(0,"h1"),n(1,"Listado de H\xE9roes"),i(),c(2,"mat-divider"),r(3,"div",0),f(4,ut,2,1,"div",1),i()),o&2&&(m(4),p("ngForOf",l.heroes))},dependencies:[g,k,We]});let t=e;return t})();function ft(t,e){t&1&&(r(0,"mat-grid-list",2)(1,"mat-grid-tile"),c(2,"mat-spinner"),i()())}function ht(t,e){if(t&1){let s=b();r(0,"div",3)(1,"mat-card",4)(2,"mat-card-header")(3,"mat-card-title"),n(4),i(),r(5,"mat-card-subtitle"),n(6),i()(),c(7,"img",5),F(8,"heroImage"),i(),r(9,"mat-card",4)(10,"mat-card-header")(11,"mat-card-title"),n(12,"Informaci\xF3n "),i(),r(13,"mat-card-subtitle"),n(14),i()(),r(15,"mat-card-content")(16,"mat-list")(17,"mat-list-item"),n(18),i(),r(19,"mat-list-item"),n(20),i(),r(21,"mat-list-item"),n(22),i(),r(23,"mat-list-item"),n(24),i()(),r(25,"button",6),S("click",function(){C(s);let o=y();return x(o.goBack())}),n(26," Regresar "),i()()()()}if(t&2){let s=y();m(4),d(s.hero.alter_ego),m(2),d(s.hero.superhero),m(),p("src",w(8,9,s.hero),j)("alt",s.hero.superhero),m(7),d(s.hero.superhero),m(4),d(s.hero.first_appearance),m(2),d(s.hero.characters),m(2),d(s.hero.publisher),m(2),d(s.hero.alter_ego)}}var Ye=(()=>{let e=class e{constructor(a,o,l){this.HeroesService=a,this.activatedRoute=o,this.router=l}ngOnInit(){this.activatedRoute.params.pipe(ne(({id:a})=>this.HeroesService.getHeroById(a))).subscribe(a=>{if(!a)return this.router.navigate(["heroes/list"]);this.hero=a})}goBack(){this.router.navigateByUrl("/heroes/list")}};e.\u0275fac=function(o){return new(o||e)(I(H),I(ve),I(xe))},e.\u0275cmp=u({type:e,selectors:[["app-hero-page"]],decls:3,vars:2,consts:[["divLoading",""],["class","grid p-2",4,"ngIf","ngIfElse"],["cols","1"],[1,"grid","p-2"],[1,"col-12","sm:col-6"],["mat-card-image","",3,"src","alt"],["mat-button","","color","warn",3,"click"]],template:function(o,l){if(o&1&&f(0,ft,3,0,"ng-template",null,0,ce)(2,ht,27,11,"div",1),o&2){let v=M(1);m(2),p("ngIf",l.hero)("ngIfElse",v)}},dependencies:[A,E,L,T,K,O,J,G,Oe,Te,He,Q,Be,W]});let t=e;return t})();var gt=[{path:"",component:qe,children:[{path:"new-hero",component:te},{path:"search",component:Ke},{path:"edit/:id",component:te},{path:"list",component:Xe},{path:":id",component:Ye},{path:"**",redirectTo:"list"}]}],Ze=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=V({type:e}),e.\u0275inj=N({imports:[Z.forChild(gt),Z]});let t=e;return t})();var mi=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=V({type:e}),e.\u0275inj=N({imports:[he,be,Ze,$e]});let t=e;return t})();export{mi as HeroesModule};
